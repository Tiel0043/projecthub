<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Pay Service</title>
    <link rel="stylesheet" th:href="@{/css/minipay-style.css}">
</head>
<body>
<div class="container">
    <h1>Mini Pay Service</h1>

    <div class="section">
        <h2>User Registration</h2>
        <form th:action="@{/minipay/users/register}" method="post">
            <input type="text" name="username" placeholder="Username" required>
            <button type="submit">Register</button>
        </form>
    </div>

    <div class="section">
        <h2>Create Savings Account</h2>
        <form th:action="@{/minipay/users/{userId}/savings-account}" method="post">
            <input type="number" name="userId" placeholder="User ID" required min="1">
            <button type="submit">Create Savings Account</button>
        </form>
    </div>

    <div class="section">
        <h2>Deposit to Account</h2>
        <form th:action="@{/minipay/accounts/deposit}" method="post">
            <input type="number" name="accountId" placeholder="Account ID" required min="1">
            <input type="number" name="amount" placeholder="Amount" step="0.01" required>
            <button type="submit">Deposit</button>
        </form>
    </div>

    <div class="section">
        <h2>Transfer</h2>
        <form th:action="@{/minipay/accounts/transfer}" method="post">
            <input type="number" name="fromAccountId" placeholder="From Account ID" required min="1">
            <input type="number" name="toAccountId" placeholder="To Account ID" required min="1">
            <input type="number" name="amount" placeholder="Amount" step="0.01" required>
            <button type="submit">Transfer</button>
        </form>
    </div>

    <div class="section">
        <h2>Get Account Info</h2>
        <form th:action="@{/minipay/accounts}" method="get">
            <input type="number" name="accountId" placeholder="Account ID" required min="1">
            <button type="submit">Get Account Info</button>
        </form>
    </div>
    <script th:inline="javascript">
        function submitForm(form) {
            var userId = document.getElementById('userId').value;
            var url = /*[[@{/minipay/users/{userId}/savings-account}]]*/ '/minipay/users/savings-account';
            form.action = url.replace('{userId}', userId);
            return true;
        }
    </script>
</div>
</body>
</html>